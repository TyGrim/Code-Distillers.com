import { useEffect, useRef } from 'react'
import gsap from 'gsap-trial'
import DrawSVGPlugin from 'gsap-trial/DrawSVGPlugin'
import LogoCD from '../../../assets/Logo-Code-Distillers/LogoOnly.png'
import './main.logo.scss'

const Logo = () => {
  const bgRef = useRef()
  const outlineLogoRef = useRef()
  const solidLogoRef = useRef()

  useEffect(() => {
    gsap.registerPlugin(DrawSVGPlugin)

    gsap
      .timeline()
      .to(bgRef.current, {
        duration: 1,
        opacity: 1,
      })
      .from(outlineLogoRef.current, {
        drawSVG: 0,
        duration: 20,
      })

    gsap.fromTo(
      solidLogoRef.current,
      {
        opacity: 0,
      },
      {
        opacity: 1,
        delay: 4,
        duration: 4,
      }
    )
  }, [])

  return (
    <div className="logo-container" ref={bgRef}>
      <img
        className="solid-logo"
        ref={solidLogoRef}
        src={LogoCD}
        alt="AV Automation"
      />

      <svg
        width="559pt"
        height="897pt"
        version="1.0"
        viewBox="0 0 559 897"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g
          className="svg-container"
          transform="translate(0 457) scale(.1 -.1)"
          fill="none"
        >
          <path
            ref={outlineLogoRef}
            d="M372.3,270.93v-8.7c0-37.18.11-74.37-.16-111.55a17.47,17.47,0,0,0-3.79-10.36c-18.74-22.18-40.49-41-67.12-52.88-13.58-6.07-28.08-11.21-42.68-13.58C240.91,71,222.79,71.14,205,76.09c-9.81,2.73-10.48,2.46-10.48,12.21q0,280.38,0,560.76c0,2.66.27,5.31.43,8.21h83V225.73c4,1.24,7.21,1.44,9.41,3.05,14.84,10.79,29.22,22.08,40.58,36.82,20.29,26.29,34.74,55.55,44.41,87.15,22.75,74.43,24.42,149.66,6,225.07-11.42,46.65-30.23,89.95-65.3,124.35-4.79,4.69-6.49,9.63-6.45,16.26.25,44.12.13,88.25.13,132.38v10.52c6.27-3.41,11.76-5.82,16.63-9.14,20.9-14.27,38.91-31.78,54.6-51.51,22.64-28.47,40-60.17,53.68-93.77,22.93-56.29,35.69-115,40.29-175.53,6.4-84-.73-166.66-26.3-247.32-4.14-13.07-3.95-13.13-17.61-13.13ZM160.16,93.77c-11.63,8.59-22.56,15.19-31.71,23.71a307,307,0,0,0-51.34,61.64C53.78,216.31,36.94,256.44,25,298.58,4.88,369.47-2,441.8,2.19,515.33c3.59,62.13,14.87,122.6,37.13,180.84,18.33,47.93,42.52,92.33,79.54,128.58a244.89,244.89,0,0,0,34.34,28.13c13.63,9.18,28.1,17.3,44.8,20.35,11.85,2.16,23.46,5.9,35.36,7.52,11.72,1.6,23-2.71,34.5-4.65C278,874.39,278,869.4,277.93,862c-.15-41.64-.07-83.29-.07-124.93v-9.55c-5.61,2.46-9.8,5.25-14.36,6.15-37,7.22-69.93-.52-97.76-26.87-23.57-22.32-40.38-49.25-52.75-78.94C94.13,582.55,85.74,535,84.49,486.16A417,417,0,0,1,97.88,369.27C109,326.83,127.38,288,156,254.4A17.57,17.57,0,0,0,160,244.25c.41-15.85.18-31.72.18-47.59Zm372.45,54.1V1H447.43V134.09H395.49V244.4h64.75V147.87ZM365.27,8.2c0,27.29,0,53.75,0,80.21,0,4.32,2,5.36,6,5.29,11.63-.19,23.27-.47,34.88.08,7.12.34,9.49-1.84,9.37-9.11-.4-23-.14-46-.16-69.06,0-2.4-.2-4.81-.32-7.41Z"
          />
        </g>
      </svg>
    </div>
  )
}

export default Logo
